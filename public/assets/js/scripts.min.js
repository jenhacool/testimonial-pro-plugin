jQuery(document).ready((function($){$("body").find(".sp-testimonial-pro-section").each((function(){var _this=$(this),custom_id=$(this).attr("id"),preloader;if("1"==_this.data("preloader")){var parents_class,parents_siblings_id=$("#"+custom_id).parent(".sp-testimonial-pro-wrapper").find(".tpro-preloader").attr("id");$(window).load((function(){setTimeout((function(){$("#"+parents_siblings_id).css({opacity:0,display:"none"})}),600),$("#"+custom_id).animate({opacity:1},600)}))}})),$("#testimonial_form").validate(),$(".sp-testimonial-pro-wrapper").each((function(){var sliderID=$(this).attr("id"),testimonailData=$("#"+sliderID+" .sp-testimonial-pro-section").data("testimonial"),stpmsnry;function tpro_read_more_init(){$("#"+sliderID+" .sp-testimonial-pro-read-more.tpro-readmore-expand-true").length>0&&$("#"+sliderID+" .sp-testimonial-pro-read-more.tpro-readmore-expand-true").each((function(index){var tpro_custom_read_id=$(this).attr("id"),tpro_read_more_config=JSON.parse($(this).closest(".sp-testimonial-pro-wrapper").find(".sp-tpro-rm-config").text());$("#"+tpro_custom_read_id+" .tpro-client-testimonial .tpro-read-more:contains("+tpro_read_more_config.testimonial_read_more_text+")").trigger("click"),""!=tpro_custom_read_id&&($(document).find("#"+tpro_custom_read_id+" .tpro-client-testimonial").curtail({limit:parseInt(tpro_read_more_config.testimonial_characters_limit),ellipsis:tpro_read_more_config.testimonial_read_more_ellipsis,toggle:!0,text:[tpro_read_more_config.testimonial_read_less_text,tpro_read_more_config.testimonial_read_more_text]}),$("#"+tpro_custom_read_id+" .tpro-client-testimonial .tpro-read-more").on("click",(function(){$(this).parent().toggleClass("tpro-testimonial-expanded"),$("#"+sliderID+" .sp_testimonial_pro_masonry").length&&$("#"+sliderID+" .sp_testimonial_pro_masonry .sp-tpro-items").masonry(),$(".sp_testimonial_pro_filter").length&&$(this).closest(".sp-tpro-isotope-items, .isotope").resize()})))}))}function trpo_masonry_init(){var masonry=$("#"+sliderID+" .sp_testimonial_pro_masonry .sp-tpro-items");masonry.length>0&&(masonry.masonry(),masonry.imagesLoaded((function(){masonry.masonry()})),stpmsnry=masonry.data("masonry"))}function tpro_popup_init(){0==testimonailData.thumbnailSlider&&1===testimonailData.videoIcon&&$(".sp-tpro-video").magnificPopup({type:"iframe",mainClass:"mfp-fade",preloader:!1,fixedContentPos:!1})}tpro_read_more_init(),trpo_masonry_init(),tpro_popup_init();var appendClass=" .sp-tpro-items > div";$("#"+sliderID+" .sp-testimonial-pro-section.infinite_scroll").length>0&&$("#"+sliderID+" .sp-testimonial-pro-section.infinite_scroll .sp-tpro-items").infiniteScroll({path:"#"+sliderID+" .sp-tpro-pagination a.page-numbers",append:"#"+sliderID+appendClass,scrollThreshold:100,history:!1,outlayer:stpmsnry,status:"#"+sliderID+" .page-load-status",button:"#"+sliderID+" .tpro-post-load-more",hideNav:"#"+sliderID+" .sp-tpro-pagination-area"}).on("load.infiniteScroll",(function(event,response,path){setTimeout((function(){tpro_popup_init(),tpro_read_more_init(),trpo_masonry_init(),$("[data-remodal-id]").length>0&&$("[data-remodal-id]").remodal()}),300)})),$("#"+sliderID+" .sp-testimonial-pro-section.ajax_load_more").length>0&&$("#"+sliderID+" .sp-testimonial-pro-section.ajax_load_more .sp-tpro-items").infiniteScroll({path:"#"+sliderID+" .sp-tpro-pagination a.page-numbers",append:"#"+sliderID+appendClass,scrollThreshold:100,history:!1,status:"#"+sliderID+" .page-load-status",loadOnScroll:!1,elementScroll:!0,outlayer:stpmsnry,button:"#"+sliderID+" .tpro-items-load-more",hideNav:"#"+sliderID+" .sp-tpro-pagination-area"}).on("load.infiniteScroll",(function(event,response,path){setTimeout((function(){tpro_popup_init(),tpro_read_more_init(),trpo_masonry_init(),$("[data-remodal-id]").length>0&&$("[data-remodal-id]").remodal()}),300)})),$("#"+sliderID+" .sp-testimonial-pro-section.ajax_pagination").length>0&&$("#"+sliderID).on("click",".sp-tpro-pagination a",(function(e){e.preventDefault(),e.stopPropagation();var link=$(this).attr("href");$("#"+sliderID+" .tpro-preloader").css("display","block"),$("#"+sliderID+" .tpro-preloader").css("opacity",1),$("#"+sliderID).load(link+" #"+sliderID+" > *",(function(){tpro_popup_init(),tpro_read_more_init(),trpo_masonry_init(),$("[data-remodal-id]").length>0&&$("[data-remodal-id]").remodal(),setTimeout((function(){$("#"+sliderID+" .tpro-preloader").css({opacity:0,display:"none"})}),1e3)}))}))})),jQuery.fn.extend({createProfile:function(options={}){var hasOption=function(optionKey){return options.hasOwnProperty(optionKey)},option=function(optionKey){return options[optionKey]},generateId=function(string){return string.replace(/\[/g,"_").replace(/\]/g,"").toLowerCase()},addItem=function(items,key,fresh=!0){var itemContent=items,group=itemContent.data("group"),item,input;itemContent.find("input,select").each((function(index,el){var attrName=$(el).data("name"),skipName;1!=$(el).data("skip-name")?$(el).attr("name",group+"["+key+"]["+attrName+"]"):"undefined"!=attrName&&$(el).attr("name",attrName),1==fresh&&$(el).attr("value",""),$(el).attr("id",generateId($(el).attr("name"))),$(el).parent().find("label").attr("for",generateId($(el).attr("name")))}));var itemClone=items,removeButton;itemClone.find(".tpro-social-profile-remove").attr("onclick","jQuery(this).parents('.tpro-social-profile-item').remove()");var newItem=$("<div class='tpro-social-profile-item'>"+itemClone.html()+"<div/>");newItem.attr("data-index",key),newItem.appendTo(repeater)},repeater=this,items=repeater.find(".tpro-social-profile-item"),key=0,addButton=$(".tpro-social-profile-wrapper").find(".tpro-add-new-profile-btn");items.each((function(index,item){items.remove(),hasOption("showFirstItemToDefault")&&1==option("showFirstItemToDefault")?(addItem($(item),key),key++):items.length>1&&(addItem($(item),key),key++)})),addButton.on("click",(function(){addItem($(items[0]),key),key++}))}}),$("#tpro-social-profiles").createProfile({showFirstItemToDefault:!0})}));